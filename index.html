<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>No Spin Media</title>
    <link rel="stylesheet" href="style.css" />
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            background: #f4f4f4;
            color: #222;
            /* CRITICAL: Add padding-top to body to prevent content from being hidden by the fixed header */
            padding-top: 70px; /* This value must match your header's min-height */
        }

        /* Main Container for Flexbox Layout */
        .container {
            display: flex; /* This is the key for side-by-side */
            flex-wrap: wrap; /* Allows wrapping on smaller screens */
            padding: 2rem;
            max-width: 1200px; /* Center container with auto margins */
            margin: 0 auto; /* Added margin auto to center the container */
            gap: 2rem; /* Spacing between main and sidebar */
        }

        /* Main Content Area */
        .main {
            flex: 1 1 60%; /* Takes at least 60% width, can grow/shrink */
            padding: 1rem;
            box-sizing: border-box; /* Include padding in width */
        }

        /* Sidebar Content Area */
        .sidebar {
            flex: 1 1 30%; /* Takes at least 30% width, can grow/shrink */
            background: #fff;
            padding: 1rem;
            margin-top: 2rem; /* Matches your original margin */
            border-left: 2px solid #eee;
            border-radius: 6px;
            box-shadow: 0 2px 8px rgba(0,0,0,0.05);
            box-sizing: border-box; /* Include padding in width */
            /* Ensure sidebar doesn't overlap header on desktop if it's too tall */
            align-self: flex-start; /* Aligns sidebar to the start of the cross-axis */
        }

        h1 {
            font-size: 2rem;
            margin-top: 0;
        }
        h2 {
            font-size: 1.3rem;
            margin-bottom: 0.5rem;
        }
        .button {
            display: inline-block;
            margin: 0.5rem 0;
            padding: 0.6rem 1rem;
            background: #333;
            color: white;
            text-decoration: none;
            border-radius: 4px;
        }
        footer {
            text-align: center;
            padding: 1rem;
            font-size: 0.9rem;
            color: #666;
        }

        /* Feedback form styling */
        #feedbackForm input, #feedbackForm textarea {
            width: 100%;
            padding: 8px;
            margin: 6px 0;
            border: 1px solid #ccc;
            border-radius: 4px;
        }
        #feedbackForm button {
            background: #0073e6;
            color: #fff;
            border: none;
            padding: 10px;
            width: 100%;
            font-weight: bold;
            border-radius: 4px;
            cursor: pointer;
        }
        #feedbackForm button:hover { background: #005bb5; }
        #formStatus {
            font-size: 0.9em;
            color: green;
            margin: 6px 0;
            text-align: center;
        }

        /* Responsive adjustments for smaller screens */
        @media (max-width: 768px) {
            .container {
                flex-direction: column; /* Stack vertically on small screens */
            }
            .sidebar {
                margin-top: 1rem;
                border-left: none;
                border-top: 2px solid #eee;
            }
        }
    </style>
</head>
<body>

    <div id="site-header"></div>

    <div class="container">
        <div class="main">
            <h1>Where Facts Meet Fun (Seriously!)</h1>
            <p>
                Welcome to No Spin Media ‚Äì your refreshingly honest corner of the internet! We're here to cut through the noise and deliver content that's clear, engaging, and always rooted in facts. Think of us as your digital guide, making sure you get the real story, plus a whole lot of brain-tickling entertainment.
            </p>

            <h2>What Makes Us Awesome?</h2>
            <ul>
                <li>‚úÖ <strong>Pure Facts, Zero Spin:</strong> Get the truth, unbiased and straightforward. No hype, no agenda, just what happened.</li>
                <li>‚úÖ <strong>Your Content, Uninterrupted:</strong> We're committed to delivering great content without letting ads track you or manipulate your experience. Our focus is on transparency and honesty, always.</li>
                <li>‚úÖ <strong>Fun for Your Brain:</strong> We believe learning and staying informed should be exciting! Dive into daily puzzles, intriguing trivia, and more.</li>
                <li>‚úÖ <strong>Smart Tech, Human Heart:</strong> Powered by cutting-edge AI for efficiency, but meticulously controlled by our mission to ensure accuracy and integrity.</li>
            </ul>

            <p>Ready to explore? We've got something for everyone:</p>
            <ul>
                <li>üì∞ <strong>The Real Scoop:</strong> Concise, 100% spin-free world news to keep you truly informed.</li>
                <li>üß† <strong>Daily Brain Boosters:</strong> Engage your mind with jokes, fascinating logic puzzles, and fresh trivia.</li>
                <li>üéÇ <strong>This Day in History & Birthdays:</strong> Discover the facts and figures that shaped today, every day.</li>
            </ul>

            <p>
                <a class="button" href="ai.html">Learn How We Use AI</a>
                <a class="button" href="sponsor.html">Support Our Mission</a>
            </p>
        </div>

        <div class="sidebar">
            <h2>Support Us üíô</h2>
            <p>Like what we're doing? Help keep No Spin Media running:</p>
            <p><strong>Venmo:</strong><br/>
                <a href="https://venmo.com/NoSpinMedia" target="_blank">@NoSpinMedia</a>
            </p>

            <h2>Follow Us</h2>
            <p>üìò <a href="https://facebook.com/NoSpinNewsAI" target="_blank">facebook.com/NoSpinNewsAI</a></p>

            <h2>We ‚ù§Ô∏è Your Thoughts!</h2>
            <p>Have an idea, suggestion, or just want to say hi? We read every single message you send. üòä</p>
            <p>You can also reach us directly at: <strong>nospinmedia.ai@gmail.com</strong></p>

            <form id="feedbackForm">
                <input type="text" id="name" name="name" placeholder="Your first name">
                <input type="email" id="email" name="email" placeholder="you@email.com" required>
                <textarea id="message" name="message" rows="4" placeholder="Your feedback..." required></textarea>
                <p id="formStatus"></p>
                <button type="submit">üí¨ Send Feedback</button>
            </form>
        </div>
    </div>

    <footer>
        ¬© 2025 No Spin Media. Independent. Truth-focused.<br>Seriously factual, surprisingly fun.
    </footer>

    <script>
        // Use DOMContentLoaded to ensure the div for the header exists before trying to fetch
        document.addEventListener('DOMContentLoaded', function() {
            fetch('header.html')
                .then(res => res.text())
                .then(html => {
                    document.getElementById('site-header').innerHTML = html;

                    // --- IMPORTANT: Hamburger JavaScript MUST be here AFTER header is loaded ---
                    const hamburger = document.getElementById('hamburger');
                    const mobileNav = document.getElementById('mobile-nav');

                    if (hamburger && mobileNav) {
                        function toggleMobileNav() {
                            mobileNav.classList.toggle('open');
                            hamburger.classList.toggle('active'); // Toggle color change
                            console.log('Hamburger toggled from index.html! Open:', mobileNav.classList.contains('open'));
                        }

                        hamburger.addEventListener('click', toggleMobileNav);

                        // Also listen for touchstart for better mobile responsiveness
                        // Use { passive: false } to allow preventDefault() for touch events
                        hamburger.addEventListener('touchstart', function(e) {
                            e.preventDefault(); // Prevents potential default browser scroll/zoom
                            console.log('Touch detected on hamburger from index.html!');
                            toggleMobileNav();
                        }, { passive: false });

                        // Close mobile menu when a link is clicked
                        mobileNav.querySelectorAll('a').forEach(link => {
                            link.addEventListener('click', () => {
                                mobileNav.classList.remove('open');
                                hamburger.classList.remove('active'); // Reset hamburger color
                            });
                        });

                        // Close mobile menu if window is resized above mobile breakpoint
                        window.addEventListener('resize', function() {
                            if (window.innerWidth > 768) {
                                mobileNav.classList.remove('open');
                                hamburger.classList.remove('active'); // Reset hamburger color
                            }
                        });
                    } else {
                        console.error("Critical: Hamburger or mobile navigation element not found after header load!");
                    }
                    // --- END IMPORTANT SECTION ---
                })
                .catch(err => console.error("Error loading header.html:", err));

            // Feedback form submit (moved inside DOMContentLoaded as well for consistency)
            const feedbackForm = document.getElementById('feedbackForm');
            if (feedbackForm) { // Check if form exists
                feedbackForm.addEventListener('submit', async function(e) {
                    e.preventDefault();
                    const status = document.getElementById('formStatus');
                    status.textContent = "‚è≥ Sending...";

                    const name = document.getElementById('name').value || "Someone";
                    const email = document.getElementById('email').value;
                    const message = document.getElementById('message').value;

                    const data = {
                        name: name,
                        email: email,
                        subject: "Main Page Feedback", // Changed subject for clarity
                        message: message
                    };

                    try {
                        const res = await fetch('https://script.google.com/macros/s/AKfycbwr26uY61Dip94_QwzyLh1JDSIFdYHJgqL_scKGLdRd9O42VLDBvt2XzkA67tjphJrs/exec', {
                            method: 'POST',
                            headers: {'Content-Type':'text/plain'},
                            body: JSON.stringify(data)
                        });

                        let result = {};
                        try { result = await res.json(); } catch (err) { result = { status: "success" }; }

                        if (result.status === "success") {
                            status.textContent = "‚úÖ Thanks! Your feedback was sent.";
                            this.reset();
                        } else {
                            status.textContent = "‚ùå Error sending. Please try again.";
                        }
                        setTimeout(()=>{ status.textContent = ""; }, 5000);
                    } catch (err) {
                        console.error(err);
                        status.textContent = "‚ùå Failed to send! Check connection.";
                        setTimeout(()=>{ status.textContent = ""; }, 5000);
                    }
                });
            }
        });
    </script>
</body>
</html>
