 and place it in the same folder as your index.html file.

Flat Screen TV: The #tv element has been styled to be a simple, dark, flat screen monitor. The green glow and scanline effects have been removed, making it a clean display for your messages. It's now positioned precisely over the screen area in your background image.

Door Clickability: The #door element is now a transparent div positioned directly over the door in your background image. All its previous visual styles (wood grain, border, handle) have been removed since the door is now part of the background. Clicking this transparent area will still lead you to engine_v1.html. The "open" door animation is removed as the door itself isn't an independent animating object anymore.

Sign Position: The #sign has been adjusted to float above the door, fitting its location in the new image.

Font Loading: The Google Fonts <link> tags are now directly included in the <head> section of your HTML, which is the recommended way to load them.

Version Update: The version number is updated to v1.3 at the bottom right, with comments as requested.

Torch Flickering (Note): Achieving a realistic flickering effect for the torches that are part of a static background image is complex using only HTML and CSS. It typically requires either:

Using a sprite sheet of torch flames and CSS steps() animation.

Overlaying transparent divs with animating box-shadows to simulate light, but this won't change the flame itself.

Using JavaScript to swap out different background images or manipulate elements over the torches.
For this update, I have not implemented flickering torches to keep the focus on integrating the background and positioning elements correctly. If you'd like to explore this further, let me happy to guide you with one of the advanced methods!

Here's the updated index.html code:

HTML

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ShiftMaze Entry</title>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden; /* Prevent scrollbars */
    }
    body {
      /* Background Image Integration */
      background: url('dungeon_entrance.png') no-repeat center center / cover; /* Use your new image */
      font-family: 'Press Start 2P', cursive, Arial, sans-serif;
      color: #fff;
      position: relative;
    }

    /* TV screen - now a transparent overlay for content */
    #tv {
      position: absolute;
      /* Adjusted positions to fit the image. Fine-tune these percentages if needed. */
      top: 15.5%; /* Approximate vertical position */
      left: 7.5%; /* Approximate horizontal position */
      width: 32%; /* Approximate width of the screen area */
      height: 48%; /* Approximate height of the screen area */
      
      background: rgba(0, 0, 0, 0.85); /* Dark background for the screen content */
      border-radius: 5px; /* Slight roundness if the screen has it */
      box-shadow: inset 0 0 15px rgba(0,0,0,0.5); /* Subtle inner shadow */
      z-index: 2;
      display: flex;
      flex-direction: column;
      justify-content: center;
      align-items: center;
      text-align: center;
      overflow: hidden;
      font-family: 'VT323', monospace; /* Retro console font */
      font-size: 1.2vw; /* Responsive font size */
      line-height: 1.3;
      color: #e0e0e0; /* Off-white for screen text */
      box-sizing: border-box; /* Include padding in dimensions */
      padding: 1%; /* Small internal padding for content */
    }
    
    #tv-content {
        /* Content area within the TV */
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        justify-content: center;
        align-items: center;
    }

    /* Door - now a transparent clickable area */
    #door {
      position: absolute;
      /* Adjusted positions to fit the image. Fine-tune these percentages if needed. */
      top: 41%; /* Start from top of the door frame in the image */
      left: 63.5%; /* Start from left of the door frame in the image */
      width: 17%; /* Width of the door in the image */
      height: 57%; /* Height of the door in the image */
      background: transparent; /* Makes it transparent */
      cursor: pointer;
      z-index: 1; /* Keep it above the background */
    }

    /* Old wooden sign - positioned over the sign in the image */
    #sign {
      position: absolute;
      top: 30%; /* Approximate vertical position */
      left: 66%; /* Approximate horizontal position */
      transform: translateX(-50%) rotate(-4deg); /* Adjust based on image tilt */
      color: #e02c2c; /* Ominous red */
      font-family: 'Creepster', cursive; /* Spooky font */
      font-weight: bold;
      font-size: 2.5vw; /* Responsive font size */
      text-shadow: 3px 3px 6px #000;
      white-space: nowrap;
      z-index: 2;
    }

    /* Exit button */
    #exitBtn {
      position: absolute;
      top: 20px;
      right: 20px;
      padding: 8px 15px;
      background: rgba(0,0,0,0.7);
      color: #ffcc00; /* Goldish color */
      border: 2px solid #ffcc00;
      border-radius: 5px;
      text-decoration: none;
      font-weight: bold;
      font-family: 'Press Start 2P', cursive, Arial, sans-serif;
      font-size: 0.9em;
      box-shadow: 0 0 10px rgba(255,204,0,0.4);
      transition: background 0.3s ease, color 0.3s ease;
      z-index: 10;
    }
    #exitBtn:hover {
        background: #ffcc00;
        color: #000;
    }

    /* Mute button */
    #muteBtn {
      position: absolute;
      top: 20px;
      left: 20px;
      padding: 8px;
      background: rgba(0,0,0,0.7);
      color: #0f0; /* Green for mute button */
      border: 2px solid #0f0;
      border-radius: 5px;
      font-size: 1.4em;
      cursor: pointer;
      box-shadow: 0 0 10px rgba(0,255,0,0.4);
      transition: background 0.3s ease, color 0.3s ease;
      z-index: 10;
    }
    #muteBtn:hover {
        background: #0f0;
        color: #000;
    }

    /* Version tag */
    #versionTag {
      position: absolute;
      bottom: 10px;
      right: 15px;
      font-size: 0.85em;
      color: rgba(255,255,255,0.7);
      font-weight: bold;
      font-family: 'Press Start 2P', cursive, Arial, sans-serif;
      z-index: 10;
    }

  </style>
</head>
<body>
  <div id="tv"><div id="tv-content"></div></div>
  <div id="sign">Enter if you dare</div>
  <div id="door"></div> <a id="exitBtn" href="/games/puzzles/index.html">Exit</a>
  <div id="versionTag">v1.3</div>

  <audio id="bgm" src="ambient.mp3" loop autoplay></audio>
  <button id="muteBtn" type="button">ðŸ”Š</button>

  <script>
    const tvContent = document.getElementById('tv-content');
    let msgIndex = 0;
    const entryMessages = [
        "ðŸŽ¯ Ready to enter the ShiftMaze? Do you dare?",
        "Explore fun AI-generated games at nospin.media!"
    ];
    let allMessages = [];

    function formatMessage(msg) {
      // This function formats messages to fit the TV screen, padding with empty lines
      // Adjust totalDisplayLines based on how many lines fit well in your TV area.
      const totalDisplayLines = 5; 
      const lines = msg.split("\n");
      const padding = Math.max(0, totalDisplayLines - lines.length);
      const topPadding = Math.floor(padding / 2);
      const bottomPadding = padding - topPadding;

      let html = "";
      for (let i = 0; i < topPadding; i++) html += "<div>&nbsp;</div>";
      lines.forEach(line => html += `<div>${line}</div>`);
      for (let i = 0; i < bottomPadding; i++) html += "<div>&nbsp;</div>";
      return html;
    }

    fetch('tv_messages.json')
      .then(res => res.json())
      .then(data => {
        allMessages = [...entryMessages, ...data];
        tvContent.innerHTML = formatMessage(allMessages[0]);
        setInterval(() => {
          msgIndex = (msgIndex + 1) % allMessages.length;
          tvContent.innerHTML = formatMessage(allMessages[msgIndex]);
        }, 9000); // Change message every 9 seconds
      })
      .catch(err => {
        console.error('Failed to load tv_messages.json, using default messages.', err);
        allMessages = entryMessages; // Fallback to only entry messages
        tvContent.innerHTML = formatMessage(allMessages[0]);
        setInterval(() => {
          msgIndex = (msgIndex + 1) % allMessages.length;
          tvContent.innerHTML = formatMessage(allMessages[msgIndex]);
        }, 9000);
      });

    const door = document.getElementById('door');
    door.addEventListener('click', () => {
      // Directly redirect when the transparent door area is clicked
      // No visual door animation needed as the door is part of the background image
      window.location.href = "engine_v1.html"; 
    });

    const audio = document.getElementById('bgm');
    const muteBtn = document.getElementById('muteBtn');

    // Attempt to autoplay and show correct mute state
    setTimeout(() => {
        if (audio.paused && !audio.muted) { // If autoplay failed and not intentionally muted
            muteBtn.textContent = "ðŸ”‡";
        }
    }, 500);

    muteBtn.addEventListener('click', () => {
      if (audio.paused && !audio.muted) {
        // If paused due to browser policy, try to play and unmute
        audio.play().catch(e => console.log("Autoplay blocked, user interaction required:", e));
        audio.muted = false;
        muteBtn.textContent = "ðŸ”Š";
      } else {
        audio.muted = !audio.muted;
        muteBtn.textContent = audio.muted ? "ðŸ”‡" : "ðŸ”Š";
      }
    });

    // Handle potential autoplay restrictions for audio
    document.addEventListener('DOMContentLoaded', () => {
        if (audio.autoplay && audio.paused) {
            // If autoplay is set but audio is paused, it means autoplay was blocked.
            // We can indicate this to the user by showing the muted icon.
            muteBtn.textContent = "ðŸ”‡";
        }
    });
  </script>
</body>
</html>
