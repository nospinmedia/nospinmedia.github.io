<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>ShiftMaze Entry</title>
  <link href="https://fonts.googleapis.com/css2?family=Creepster&family=Press+Start+2P&family=VT323&display=swap" rel="stylesheet">
  <style>
    html, body {
      height: 100%;
      margin: 0;
      padding: 0;
      overflow: hidden;
    }
    body {
      background: url('dungeon_wall_texture.jpg') no-repeat center center / cover;
      font-family: 'Press Start 2P', cursive, Arial, sans-serif;
      color: #fff;
      position: relative;
    }

    /* TV */
    #tv { /* unchanged from your code */ }

    /* Door */
    #door {
      position: absolute;
      top: 37%;
      left: 75%;
      width: 17.5%;
      height: 56%;
      background: transparent;
      cursor: pointer;
      z-index: 1;
    }

    /* Mouse */
    #mouse {
      position: absolute;
      bottom: 8px;
      width: 120px; /* slightly larger */
      z-index: 5;
      opacity: 0.9;
      filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.6));
      pointer-events: none;
    }

    /* Version */
    #versionTag {
      position: absolute;
      bottom: 10px;
      right: 15px;
      font-size: 0.85em;
      color: rgba(255,255,255,0.7);
      font-weight: bold;
      font-family: 'Press Start 2P', cursive;
      z-index: 10;
    }
  </style>
</head>
<body>
  <div id="tv"><div id="tv-content"></div></div>
  <div id="sign">ENTER IF YOU DARE</div>
  <div id="door"></div>
  <div class="torch-flame"></div>
  <img id="mouse" src="rat_transparent.gif" alt="mouse" />
  <a id="exitBtn" href="/games/puzzles/index.html">Exit</a>
  <div id="versionTag">v3.2</div>

  <script>
    const tvContent = document.getElementById('tv-content');
    const entryMessages = [
      "ðŸŽ¯ Ready to enter the ShiftMaze? Do you dare?",
      "Play more games and puzzles:\nnospin.media today!"
    ];
    tvContent.textContent = entryMessages[0];

    // Mouse
    const mouse = document.getElementById('mouse');
    const colors = [
      'none',  // normal gray
      'brightness(0.4)',  // black
      'sepia(1) saturate(3) hue-rotate(20deg)',  // brown
      'brightness(2) saturate(0)',  // white
      'hue-rotate(90deg) saturate(2)'  // spooky green
    ];

    function runMouse() {
      const screenWidth = window.innerWidth;
      const goingRight = Math.random() > 0.5;

      // Apply random tint
      mouse.style.filter = `drop-shadow(2px 2px 2px rgba(0,0,0,0.6)) ${colors[Math.floor(Math.random()*colors.length)]}`;

      if (goingRight) {
        mouse.style.left = '-140px';
        mouse.style.transform = "scaleX(-1)"; // âœ… right-facing now fixed
        mouse.animate([{ left: '-140px' }, { left: screenWidth + 'px' }], { duration: 7000, fill: 'forwards' });
      } else {
        mouse.style.left = screenWidth + 'px';
        mouse.style.transform = "scaleX(1)"; // âœ… left-facing now fixed
        mouse.animate([{ left: screenWidth + 'px' }, { left: '-140px' }], { duration: 7000, fill: 'forwards' });
      }

      setTimeout(runMouse, 15000 + Math.random()*5000);
    }

    setTimeout(runMouse, 2000);

    // Door click
    document.getElementById('door').addEventListener('click', () => {
      window.location.href = "engine_v1.html";
    });
  </script>
</body>
</html>
