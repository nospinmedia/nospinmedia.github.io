<!DOCTYPE html>
<html lang="en">
<head>
Â  Â  <meta charset="UTF-8" />
Â  Â  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
Â  Â  <title>Shopping List | No Spin Media</title>
Â  Â  <style>
Â  Â  Â  Â  body {
Â  Â  Â  Â  Â  Â  font-family: Arial, sans-serif;
Â  Â  Â  Â  Â  Â  margin: 0;
Â  Â  Â  Â  Â  Â  padding: 0;
Â  Â  Â  Â  Â  Â  background: #f4f4f4;
Â  Â  Â  Â  Â  Â  color: #222;
Â  Â  Â  Â  }
Â  Â  Â  Â  header {
Â  Â  Â  Â  Â  Â  background: #111;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  padding: 0.5rem 2rem;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  min-height: 70px;
Â  Â  Â  Â  Â  Â  position: fixed;
Â  Â  Â  Â  Â  Â  width: 100%;
Â  Â  Â  Â  Â  Â  top: 0;
Â  Â  Â  Â  Â  Â  left: 0;
Â  Â  Â  Â  Â  Â  z-index: 1000;
Â  Â  Â  Â  }
Â  Â  Â  Â  .header-logo-text {
Â  Â  Â  Â  Â  Â  font-size: 2rem;
Â  Â  Â  Â  Â  Â  font-weight: bold;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  text-decoration: none;
Â  Â  Â  Â  }
Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  max-width: 1200px;
Â  Â  Â  Â  Â  Â  margin: 5rem auto;
Â  Â  Â  Â  Â  Â  padding: 2rem;
Â  Â  Â  Â  Â  Â  background: white;
Â  Â  Â  Â  Â  Â  border-radius: 8px;
Â  Â  Â  Â  Â  Â  box-shadow: 0 0 10px rgba(0,0,0,0.05);
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  flex-wrap: wrap;
Â  Â  Â  Â  Â  Â  gap: 2rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .main { flex: 1 1 60%; }
Â  Â  Â  Â  .sidebar { flex: 1 1 30%; }
Â  Â  Â  Â  h1 {
Â  Â  Â  Â  Â  Â  margin-top: 0;
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  font-size: 1.8rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  h1 span {
Â  Â  Â  Â  Â  Â  margin-right: 0.5rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  input[type="text"], input[type="number"], select, textarea {
Â  Â  Â  Â  Â  Â  padding: 0.4rem;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  margin: 0.3rem 0.2rem;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  border: 1px solid #ccc;
Â  Â  Â  Â  }
Â  Â  Â  Â  button {
Â  Â  Â  Â  Â  Â  padding: 0.4rem 0.75rem;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  Â  Â  border-radius: 4px;
Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  background: #333;
Â  Â  Â  Â  Â  Â  color: #fff;
Â  Â  Â  Â  Â  Â  cursor: pointer;
Â  Â  Â  Â  }
Â  Â  Â  Â  button:hover {
Â  Â  Â  Â  Â  Â  background: #555;
Â  Â  Â  Â  }
Â  Â  Â  Â Â 
Â  Â  Â  Â  .item-row {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  justify-content: space-between;
Â  Â  Â  Â  Â  Â  margin: 0.25rem 0;
Â  Â  Â  Â  Â  Â  padding: 0.4rem 0;
Â  Â  Â  Â  Â  Â  border-bottom: 1px solid #eee;
Â  Â  Â  Â  Â  Â  font-size: 1rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .item-name-col {
Â  Â  Â  Â  Â  Â  flex: 1;
Â  Â  Â  Â  }
Â  Â  Â  Â  .item-controls-col {
Â  Â  Â  Â  Â  Â  display: flex;
Â  Â  Â  Â  Â  Â  align-items: center;
Â  Â  Â  Â  Â  Â  gap: 0.5rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .item-controls-col input[type="number"] {
Â  Â  Â  Â  Â  Â  width: 50px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .item-controls-col select {
Â  Â  Â  Â  Â  Â  width: 100px;
Â  Â  Â  Â  }
Â  Â  Â  Â  .qty-label {
Â  Â  Â  Â  Â  Â  margin-right: 0.25rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  .item-row button {
Â  Â  Â  Â  Â  Â  background: none;
Â  Â  Â  Â  Â  Â  color: red;
Â  Â  Â  Â  Â  Â  font-size: 1.2rem;
Â  Â  Â  Â  Â  Â  margin-left: 1rem;
Â  Â  Â  Â  }

Â  Â  Â  Â  .version {
Â  Â  Â  Â  Â  Â  text-align: right;
Â  Â  Â  Â  Â  Â  font-size: 0.85rem;
Â  Â  Â  Â  Â  Â  color: #888;
Â  Â  Â  Â  Â  Â  margin-top: 1rem;
Â  Â  Â  Â  }
Â  Â  Â  Â  @media print {
Â  Â  Â  Â  Â  Â  button, select, input, textarea, header, footer, .sidebar, .version {
Â  Â  Â  Â  Â  Â  Â  Â  display: none !important;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .container {
Â  Â  Â  Â  Â  Â  Â  Â  box-shadow: none;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 1rem;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  .item-row {
Â  Â  Â  Â  Â  Â  Â  Â  display: block;
Â  Â  Â  Â  Â  Â  Â  Â  font-size: 1.1rem;
Â  Â  Â  Â  Â  Â  Â  Â  padding: 0.2rem 0;
Â  Â  Â  Â  Â  Â  Â  Â  border: none;
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  </style>
</head>
<body>
Â  Â  <header>
Â  Â  Â  Â  <a href="/index.html" class="header-logo-text">ğŸ§­ No Spin Media</a>
Â  Â  Â  Â  <nav>
Â  Â  Â  Â  Â  Â  <a href="/index.html">Home</a>
Â  Â  Â  Â  Â  Â  <a href="/utilities/index.html">Utilities</a>
Â  Â  Â  Â  Â  Â  <a href="/games/index.html">Games</a>
Â  Â  Â  Â  </nav>
Â  Â  </header>
Â  Â  <div class="container">
Â  Â  Â  Â  <div class="main">
Â  Â  Â  Â  Â  Â  <h1><span>ğŸ›’</span> Shopping List</h1>
Â  Â  Â  Â  Â  Â  <div>
Â  Â  Â  Â  Â  Â  Â  Â  <input type="text" id="itemInput" placeholder="e.g. Milk, Apples, Cereal" />
Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" id="qtyInput" placeholder="Qty" min="1" style="width: 60px;" />
Â  Â  Â  Â  Â  Â  Â  Â  <select id="categorySelect">
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Produce">Produce</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Dairy">Dairy</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Frozen">Frozen</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Bread">Bread</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Cereal">Cereal</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Meat">Meat</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Seafood">Seafood</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Pantry & Dry Goods">Pantry & Dry Goods</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Snacks">Snacks</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Household">Household</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Health & Beauty">Health & Beauty</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Pharmacy">Pharmacy</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Other">Other</option>
Â  Â  Â  Â  Â  Â  Â  Â  <option value="Beverages">Beverages</option>
Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  <button onclick="addItem()">Add</button>
Â  Â  Â  Â  Â  Â  <button onclick="clearList()">ğŸ§¹ Clear All</button>
Â  Â  Â  Â  Â  Â  <button onclick="printList()">ğŸ–¨ï¸ Print</button>
Â  Â  Â  Â  </div>
Â  Â  Â  Â  <div id="shoppingList"></div>
Â  Â  Â  Â  <h3 style="margin-top: 2rem;">Import from Amazon List</h3>
Â  Â  Â  Â  <textarea id="importBox" rows="6" style="width: 100%;"></textarea><br />
Â  Â  Â  Â  <button onclick="importItems()">ğŸ“¥ Import Items</button>
Â  Â  Â  Â  <button onclick="exportCSV()">â¬‡ï¸ Export List</button>
Â  Â  Â  Â  <h3>Your Email:</h3>
Â  Â  Â  Â  <input type="text" id="emailInput" placeholder="you@example.com" style="width: 100%;" />
Â  Â  Â  Â  <button onclick="sendEmail()">ğŸ“§ Send List to My Email</button>
Â  Â  Â  Â  <p id="emailStatus" style="margin-top: 0.5rem; color: green;"></p>
Â  Â  Â  Â  <div class="version">Version V2.0</div>
Â  Â  </div>
Â  Â  <div class="sidebar">
Â  Â  Â  Â  <h2>We â¤ï¸ Your Feedback!</h2>
Â  Â  Â  Â  <p>Have ideas for improving the shopping list? Weâ€™d love to hear from you.</p>
Â  Â  Â  Â  <form id="feedbackForm">
Â  Â  Â  Â  Â  Â  <input type="text" id="name" name="name" placeholder="Your first name">
Â  Â  Â  Â  Â  Â  <input type="email" id="email" name="email" placeholder="you@email.com" required>
Â  Â  Â  Â  Â  Â  <textarea id="message" name="message" rows="4" placeholder="Your feedback..." required></textarea>
Â  Â  Â  Â  Â  Â  <p id="formStatus"></p>
Â  Â  Â  Â  Â  Â  <button type="submit">ğŸ’¬ Send Feedback</button>
Â  Â  Â  Â  </form>
Â  Â  </div>
Â  Â  </div>
Â  Â  <footer style="text-align: center; padding: 1rem; font-size: 0.9rem;">
Â  Â  Â  Â  ğŸ“© Feedback welcome at nospinmedia.ai@gmail.com â€” No cookies. No tracking.<br />
Â  Â  Â  Â  â€” Powered by No Spin Media ğŸŒ https://nospin.media<br />
Â  Â  Â  Â  Try our new tip calculator. Figure out your tips easily. https://nospin.media/utilities/tip.html
Â  Â  </footer>
Â  Â  <script>
Â  Â  Â  Â  let shoppingList = [];
Â  Â  Â  Â  // EXPANDED KEYWORD MAP
Â  Â  Â  Â  const keywordMap = [
Â  Â  Â  Â  Â  Â  { keywords: ["milk", "cheese", "yogurt", "eggs", "butter", "cream", "sour cream", "cottage cheese"], category: "Dairy" },
Â  Â  Â  Â  Â  Â  { keywords: ["apple", "banana", "lettuce", "onion", "carrot", "grapes", "potato", "tomato", "spinach", "broccoli", "celery", "avocado", "orange", "lemon", "lime", "berries", "cilantro", "parsley"], category: "Produce" },
Â  Â  Â  Â  Â  Â  { keywords: ["ice cream", "frozen", "pizza", "peas", "waffles", "vegetables", "burritos", "nuggets", "tater tots", "fries", "hash browns"], category: "Frozen" },
Â  Â  Â  Â  Â  Â  { keywords: ["bread", "buns", "rolls", "bagel", "english muffin", "muffin", "tortilla", "pita", "baguette"], category: "Bread" },
Â  Â  Â  Â  Â  Â  { keywords: ["cereal", "cheerios", "corn flakes", "raisin bran", "oatmeal", "strawberry cereal", "frosted flakes", "lucky charms", "cinnamon toast crunch"], category: "Cereal" },
Â  Â  Â  Â  Â  Â  { keywords: ["chicken", "beef", "pork", "steak", "ground turkey", "sausage", "bacon", "ham", "hot dogs", "deli meat"], category: "Meat" },
Â  Â  Â  Â  Â  Â  { keywords: ["salmon", "shrimp", "fish", "tilapia", "tuna", "clams", "scallops", "crab", "lobster"], category: "Seafood" },
Â  Â  Â  Â  Â  Â  { keywords: ["beans", "rice", "pasta", "soup", "flour", "sugar", "salt", "pepper", "ketchup", "mustard", "mayo", "spaghetti sauce", "oil", "vinegar", "canned"], category: "Pantry & Dry Goods" },
Â  Â  Â  Â  Â  Â  { keywords: ["chips", "crackers", "cookies", "snack", "popcorn", "pretzels", "goldfish", "granola bars", "oreos"], category: "Snacks" },
Â  Â  Â  Â  Â  Â  { keywords: ["soda", "juice", "water", "coffee", "starbucks", "tea", "iced tea", "gatorade", "energy drink"], category: "Beverages" },
Â  Â  Â  Â  Â  Â  { keywords: ["toothpaste", "soap", "shampoo", "deodorant", "mouthwash", "conditioner", "lotion", "hand sanitizer", "band-aids"], category: "Health & Beauty" },
Â  Â  Â  Â  Â  Â  { keywords: ["detergent", "cleaner", "toilet", "toilet paper", "dish soap", "sponges", "trash bags", "air freshener", "light bulbs", "bar keepers"], category: "Household" },
Â  Â  Â  Â  Â  Â  { keywords: ["medicine", "pain reliever", "allergy", "vitamins", "cold & flu"], category: "Pharmacy" }
Â  Â  Â  Â  ];
Â  Â  Â  Â  const emojiMap = {
Â  Â  Â  Â  Â  Â  "Produce": "ğŸ",
Â  Â  Â  Â  Â  Â  "Dairy": "ğŸ§€",
Â  Â  Â  Â  Â  Â  "Frozen": "ğŸ§Š",
Â  Â  Â  Â  Â  Â  "Bread": "ğŸ",
Â  Â  Â  Â  Â  Â  "Cereal": "ğŸ¥£",
Â  Â  Â  Â  Â  Â  "Meat": "ğŸ¥©",
Â  Â  Â  Â  Â  Â  "Seafood": "ğŸ¦",
Â  Â  Â  Â  Â  Â  "Pantry & Dry Goods": "ğŸ¥«",
Â  Â  Â  Â  Â  Â  "Snacks": "ğŸ¿",
Â  Â  Â  Â  Â  Â  "Beverages": "ğŸ¥¤",
Â  Â  Â  Â  Â  Â  "Health & Beauty": "ğŸ’„",
Â  Â  Â  Â  Â  Â  "Household": "ğŸ§º",
Â  Â  Â  Â  Â  Â  "Pharmacy": "ğŸ’Š",
Â  Â  Â  Â  Â  Â  "Other": "âœ¨"
Â  Â  Â  Â  };
Â  Â  Â  Â  function autoCategory(itemName) {
Â  Â  Â  Â  Â  Â  const name = itemName.toLowerCase();
Â  Â  Â  Â  Â  Â  for (const map of keywordMap) {
Â  Â  Â  Â  Â  Â  Â  Â  if (map.keywords.some(keyword => name.includes(keyword))) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  return map.category;
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  return "Other";
Â  Â  Â  Â  }
Â  Â  Â  Â  function capitalize(str) {
Â  Â  Â  Â  Â  Â  return str.charAt(0).toUpperCase() + str.slice(1);
Â  Â  Â  Â  }
Â  Â  Â  Â  function addItem() {
Â  Â  Â  Â  Â  Â  const itemName = document.getElementById('itemInput').value.trim();
Â  Â  Â  Â  Â  Â  let qty = parseInt(document.getElementById('qtyInput').value);
Â  Â  Â  Â  Â  Â  if (!itemName) return;
Â  Â  Â  Â  Â  Â  if (!qty || qty < 1) qty = 1;
Â  Â  Â  Â  Â  Â  const smartCategory = autoCategory(itemName);
Â  Â  Â  Â  Â  Â  const existing = shoppingList.find(i => i.name.toLowerCase() === itemName.toLowerCase());
Â  Â  Â  Â  Â  Â  if (existing) {
Â  Â  Â  Â  Â  Â  Â  Â  existing.qty += qty;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  shoppingList.push({ name: capitalize(itemName), qty, category: smartCategory });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  document.getElementById('itemInput').value = "";
Â  Â  Â  Â  Â  Â  document.getElementById('qtyInput').value = "";
Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  Â  Â  saveList();
Â  Â  Â  Â  }
Â  Â  Â  Â  function renderList() {
Â  Â  Â  Â  Â  Â  const container = document.getElementById('shoppingList');
Â  Â  Â  Â  Â  Â  container.innerHTML = "";
Â  Â  Â  Â  Â  Â  const grouped = shoppingList.reduce((acc, item, idx) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!acc[item.category]) acc[item.category] = [];
Â  Â  Â  Â  Â  Â  Â  Â  acc[item.category].push({ ...item, index: idx });
Â  Â  Â  Â  Â  Â  Â  Â  return acc;
Â  Â  Â  Â  Â  Â  }, {});
Â  Â  Â  Â  Â  Â  const sortedCategories = Object.keys(grouped).sort();
Â  Â  Â  Â  Â  Â  for (const category of sortedCategories) {
Â  Â  Â  Â  Â  Â  Â  Â  const emoji = emojiMap[category] || "";
Â  Â  Â  Â  Â  Â  Â  Â  const section = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  section.innerHTML = `<h3>${emoji} ${category}</h3>`;
Â  Â  Â  Â  Â  Â  Â  Â  grouped[category].forEach(({ name, qty, index }) => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const row = document.createElement('div');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.className = "item-row";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  row.innerHTML = `
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="item-name-col">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="checkbox" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span style="font-weight: bold;">${name}</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </label>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <div class="item-controls-col">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <span class="qty-label">Qty:</span>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <input type="number" value="${qty}" min="1" onchange="updateQty(${index}, this.value)" />
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <select onchange="updateCategory(${index}, this.value)">
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ${Object.keys(emojiMap).sort().map(opt =>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `<option value="${opt}" ${opt === category ? "selected" : ""}>${opt}</option>`
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  ).join('')}
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </select>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  </div>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  <button onclick="removeItem(${index})">ğŸ—‘ï¸</button>
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  `;
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  section.appendChild(row);
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  container.appendChild(section);
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function removeItem(index) {
Â  Â  Â  Â  Â  Â  shoppingList.splice(index, 1);
Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  Â  Â  saveList();
Â  Â  Â  Â  }
Â  Â  Â  Â  function updateQty(index, newQty) {
Â  Â  Â  Â  Â  Â  shoppingList[index].qty = parseInt(newQty) || 1;
Â  Â  Â  Â  Â  Â  saveList();
Â  Â  Â  Â  }
Â  Â  Â  Â  function updateCategory(index, newCategory) {
Â  Â  Â  Â  Â  Â  shoppingList[index].category = newCategory;
Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  Â  Â  saveList();
Â  Â  Â  Â  }
Â  Â  Â  Â  function exportCSV() {
Â  Â  Â  Â  Â  Â  const rows = [["Item", "Qty", "Category"], ...shoppingList.map(item => [item.name, item.qty, item.category])];
Â  Â  Â  Â  Â  Â  const csvContent = rows.map(e => e.join(",")).join("\n");
Â  Â  Â  Â  Â  Â  const blob = new Blob([csvContent], { type: "text/csv;charset=utf-8;" });
Â  Â  Â  Â  Â  Â  const url = URL.createObjectURL(blob);
Â  Â  Â  Â  Â  Â  const link = document.createElement("a");
Â  Â  Â  Â  Â  Â  link.setAttribute("href", url);
Â  Â  Â  Â  Â  Â  link.setAttribute("download", "shopping_list.csv");
Â  Â  Â  Â  Â  Â  link.click();
Â  Â  Â  Â  }
Â  Â  Â  Â  function printList() {
Â  Â  Â  Â  Â  Â  const win = window.open("", "PrintWindow");
Â  Â  Â  Â  Â  Â  const grouped = shoppingList.reduce((acc, item) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!acc[item.category]) acc[item.category] = [];
Â  Â  Â  Â  Â  Â  Â  Â  acc[item.category].push(item);
Â  Â  Â  Â  Â  Â  Â  Â  return acc;
Â  Â  Â  Â  Â  Â  }, {});
Â  Â  Â  Â  Â  Â  let html = '<html><head><title>Shopping List</title></head><body>';
Â  Â  Â  Â  Â  Â  html += '<h1>Shopping List</h1>';
Â  Â  Â  Â  Â  Â  const sortedCategories = Object.keys(grouped).sort();
Â  Â  Â  Â  Â  Â  for (const category of sortedCategories) {
Â  Â  Â  Â  Â  Â  Â  Â  html += `<h3>${emojiMap[category] || ''} ${category}</h3><ul>`;
Â  Â  Â  Â  Â  Â  Â  Â  grouped[category].forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  html += `<li>${item.name} (Qty: ${item.qty})</li>`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  html += '</ul>';
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  html += '</body></html>';
Â  Â  Â  Â  Â  Â  win.document.write(html);
Â  Â  Â  Â  Â  Â  win.document.close();
Â  Â  Â  Â  Â  Â  win.print();
Â  Â  Â  Â  }
Â  Â  Â  Â  async function sendEmail() {
Â  Â  Â  Â  Â  Â  const email = document.getElementById('emailInput').value.trim();
Â  Â  Â  Â  Â  Â  const emailStatus = document.getElementById('emailStatus');
Â  Â  Â  Â  Â  Â  const emailSenderUrl = 'https://script.google.com/macros/s/AKfycbwRMD0KhGcv8YGo-GFw2onU5PYldc19J50uGCqRuxbA2wSTj2y8uNZaBnp-DrbHr_rNjQ/exec';
Â  Â  Â  Â  Â  Â  if (!email) {
Â  Â  Â  Â  Â  Â  Â  Â  emailStatus.textContent = "âŒ Please enter an email address.";
Â  Â  Â  Â  Â  Â  Â  Â  emailStatus.style.color = "red";
Â  Â  Â  Â  Â  Â  Â  Â  return;
Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  emailStatus.style.color = "green";
Â  Â  Â  Â  Â  Â  Â  Â  emailStatus.textContent = "â³ Sending...";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const grouped = shoppingList.reduce((acc, item) => {
Â  Â  Â  Â  Â  Â  Â  Â  if (!acc[item.category]) acc[item.category] = [];
Â  Â  Â  Â  Â  Â  Â  Â  acc[item.category].push(item);
Â  Â  Â  Â  Â  Â  Â  Â  return acc;
Â  Â  Â  Â  Â  Â  }, {});
Â  Â  Â  Â  Â  Â  const sortedCategories = Object.keys(grouped).sort();
Â  Â  Â  Â  Â  Â  let emailBody = "Your Shopping List:\n\n";
Â  Â  Â  Â  Â  Â  for (const category of sortedCategories) {
Â  Â  Â  Â  Â  Â  Â  Â  emailBody += `--- ${emojiMap[category] || ''} ${category} ---\n`;
Â  Â  Â  Â  Â  Â  Â  Â  grouped[category].forEach(item => {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  emailBody += `- ${item.name} (Qty: ${item.qty})\n`;
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  emailBody += "\n";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  const payload = {
Â  Â  Â  Â  Â  Â  Â  Â  email: email,
Â  Â  Â  Â  Â  Â  Â  Â  subject: "Your Shopping List",
Â  Â  Â  Â  Â  Â  Â  Â  message: emailBody
Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  const response = await fetch(emailSenderUrl, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: "POST",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(payload)
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  if (response.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  emailStatus.textContent = "âœ… Email sent successfully!";
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Email failed to send.');
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  } catch (error) {
Â  Â  Â  Â  Â  Â  Â  Â  emailStatus.textContent = "âŒ Failed to send email.";
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function importItems() {
Â  Â  Â  Â  Â  Â  const rawText = document.getElementById("importBox").value;
Â  Â  Â  Â  Â  Â  const lines = rawText.split("\n").map(line => line.trim()).filter(line => line);
Â  Â  Â  Â  Â  Â  const skipPhrases = [
Â  Â  Â  Â  Â  Â  Â  Â  "Add Item", "Show search result", "Edit", "Delete", "Added", "Edited", "Me Added", "John Added"
Â  Â  Â  Â  Â  Â  ];
Â  Â  Â  Â  Â  Â  for (let i = 0; i < lines.length; i++) {
Â  Â  Â  Â  Â  Â  Â  Â  const line = lines[i];
Â  Â  Â  Â  Â  Â  Â  Â  if (
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  skipPhrases.some(skip => line.includes(skip)) ||
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /^\w+ Added \d+/.test(line) ||
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  /^Edited \d+/.test(line)
Â  Â  Â  Â  Â  Â  Â  Â  ) continue;
Â  Â  Â  Â  Â  Â  Â  Â  const itemName = capitalize(line);
Â  Â  Â  Â  Â  Â  Â  Â  const existing = shoppingList.find(i => i.name.toLowerCase() === itemName.toLowerCase());
Â  Â  Â  Â  Â  Â  Â  Â  if (existing) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  existing.qty += 1;
Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const category = autoCategory(itemName);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  shoppingList.push({ name: itemName, qty: 1, category });
Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  // Clear the import box after importing
Â  Â  Â  Â  Â  Â  document.getElementById("importBox").value = "";
Â  Â  Â  Â  Â  Â  saveList();
Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  }
Â  Â  Â  Â  function clearList() {
Â  Â  Â  Â  Â  Â  if (confirm("Are you sure you want to clear the list?")) {
Â  Â  Â  Â  Â  Â  Â  Â  shoppingList = [];
Â  Â  Â  Â  Â  Â  Â  Â  saveList();
Â  Â  Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  function saveList() {
Â  Â  Â  Â  Â  Â  localStorage.setItem("shoppingList", JSON.stringify(shoppingList));
Â  Â  Â  Â  }
Â  Â  Â  Â  function loadList() {
Â  Â  Â  Â  Â  Â  const saved = localStorage.getItem("shoppingList");
Â  Â  Â  Â  Â  Â  if (saved) {
Â  Â  Â  Â  Â  Â  Â  Â  shoppingList = JSON.parse(saved);
Â  Â  Â  Â  Â  Â  Â  Â  renderList();
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  }
Â  Â  Â  Â  window.onload = loadList;
Â  Â  Â  Â  // FEEDBACK FORM LOGIC
Â  Â  Â  Â  document.addEventListener('DOMContentLoaded', function() {
Â  Â  Â  Â  Â  Â  const feedbackForm = document.getElementById('feedbackForm');
Â  Â  Â  Â  Â  Â  const formStatus = document.getElementById('formStatus');
Â  Â  Â  Â  Â  Â  const feedbackUrl = 'https://script.google.com/macros/s/AKfycbwr26uY61Dip94_QwzyLh1JDSIFdYHJgqL_scKGLdRd9O42VLDBvt2XzkA67tjphJrs/exec';
Â  Â  Â  Â  Â  Â  if (feedbackForm) {
Â  Â  Â  Â  Â  Â  Â  Â  feedbackForm.addEventListener('submit', async function(e) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  e.preventDefault();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  formStatus.textContent = "â³ Sending...";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const data = {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  name: document.getElementById('name').value || "Someone",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  email: document.getElementById('email').value,
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  subject: "Shopping List Feedback",
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  message: document.getElementById('message').value
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  };
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  try {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  const res = await fetch(feedbackUrl, {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  method: 'POST',
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  headers: {'Content-Type':'text/plain'},
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  body: JSON.stringify(data)
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  if (res.ok) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  formStatus.textContent = "âœ… Thanks! Your feedback was sent.";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  feedbackForm.reset();
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  setTimeout(()=>{ formStatus.textContent = ""; }, 4000);
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } else {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  throw new Error('Failed to send feedback.');
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  } catch(err) {
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  formStatus.textContent = "âŒ Failed to send!";
Â  Â  Â  Â  Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  Â  Â  Â  Â  });
Â  Â  Â  Â  Â  Â  }
Â  Â  Â  Â  });
Â  Â  </script>
</body>
</html>
