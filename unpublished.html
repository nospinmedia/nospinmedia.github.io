async function loadStories() {
    storyId = getQueryParam('id');

    // ðŸ”¥ USE UNPUBLISHED ENDPOINT
    const apiURL = 'https://data.nospin.media/unpublished';
    const response = await fetch(apiURL);
    let stories = await response.json();

    // ---- POSTING SLOTS (EST) ----
    const slots = [
        "00:30", "06:15", "08:45", "10:15", "11:45",
        "13:15", "15:45", "17:15", "18:30", "20:45"
    ];

    // ---- FIND NEXT AVAILABLE SLOT ----
    function nextSlotFrom(now) {
        const est = new Date(now.toLocaleString("en-US", { timeZone: "America/New_York" }));
        const today = est.toISOString().split("T")[0];

        for (let s of slots) {
            const dt = new Date(`${today}T${s}:00-05:00`);
            if (dt > est) return dt;
        }

        // If all passed, use tomorrow's first slot
        const tomorrow = new Date(est.getTime() + 86400000);
        const tStr = tomorrow.toISOString().split("T")[0];
        return new Date(`${tStr}T${slots[0]}:00-05:00`);
    }

    // ---- ASSIGN SLOTS TO STORIES ----
    let currentSlot = nextSlotFrom(new Date());

    for (let i = 0; i < stories.length; i++) {
        stories[i].scheduled = currentSlot.toISOString();

        const estDate = new Date(currentSlot.toLocaleString("en-US", { timeZone: "America/New_York" }));
        let slotIndex = slots.indexOf(estDate.toISOString().substring(11, 16));

        slotIndex++;
        if (slotIndex >= slots.length) {
            const tomorrow = new Date(estDate.getTime() + 86400000);
            const tStr = tomorrow.toISOString().split("T")[0];
            currentSlot = new Date(`${tStr}T${slots[0]}:00-05:00`);
        } else {
            const tStr = estDate.toISOString().split("T")[0];
            currentSlot = new Date(`${tStr}T${slots[slotIndex]}:00-05:00`);
        }
    }

    // ---- GROUP BY SCHEDULED DATE ----
    const groups = {};
    stories.forEach(r => {
        const d = r.scheduled.split("T")[0];
        if (!groups[d]) groups[d] = [];
        groups[d].push(r);
    });

    // ---- RENDER OUTPUT EXACTLY LIKE ORIGINAL PAGE ----
    const container = document.getElementById('stories-container');
    container.innerHTML = "";

    for (const date in groups) {

        const dt = new Date(date + "T00:00:00");
        const months = ["January","February","March","April","May","June","July","August","September","October","November","December"];
        const weekdays = ["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"];
        const label = `${weekdays[dt.getDay()]}, ${months[dt.getMonth()]} ${dt.getDate()}, ${dt.getFullYear()}`;

        const dateGroup = document.createElement('div');
        dateGroup.className = 'date-group';
        dateGroup.innerHTML = `<div class="date-header">${label}</div>`;

        groups[date].forEach(r => {
            const sched = new Date(r.scheduled);
            const schedTime = sched.toLocaleTimeString("en-US", {
                timeZone: "America/New_York",
                hour: "numeric",
                minute: "2-digit"
            });

            const card = document.createElement('div');
            card.className = 'story-card';
            card.innerHTML = `
                <h3>${r.headline}</h3>
                <div class="bias">Scheduled: <strong>${schedTime} EST</strong></div>
                <div class="bias">Bias: ${r.bias}</div>
                <button class="toggle" onclick="toggleSummary(this)">Show Story</button>
                <div class="summary">${r.summary}</div>
            `;

            dateGroup.appendChild(card);
        });

        container.appendChild(dateGroup);
    }
}
